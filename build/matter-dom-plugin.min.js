/*!
 * matter-dom-plugin 0.0.1 by Edgar Lopez-Garci 2017-06-30
 * https://github.com/elopezga/matter-dom-plugin
 * License MIT
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("matter-js")):"function"==typeof define&&define.amd?define(["matter-js"],t):"object"==typeof exports?exports.MatterDomPlugin=t(require("matter-js")):e.MatterDomPlugin=t(e.Matter)}(this,function(e){return function(e){function t(n){if(i[n])return i[n].exports;var o=i[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var i={};return t.m=e,t.c=i,t.i=function(e){return e},t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/libs",t(t.s=3)}([function(e,t,i){"use strict";var n={};e.exports=function(e){var t=e.Body,i=e.Vertices,o=e.Common,r=e.World;e.Bounds;return n.create=function(e){var t=e.bodyType,i=e.el,o=e.render,a=e.position;delete e.bodyType,delete e.el,delete e.render,delete e.position;var l=null,u=document.querySelector(i),s=o.mapping.viewToWorld({x:a.x,y:a.y});if("block"==t){var d=o.mapping.viewToWorld({x:u.offsetWidth,y:u.offsetHeight});l=n.block(s.x,s.y,d.x,d.y,e)}else if("circle"==t){var m=o.mapping.viewToWorld(u.offsetWidth/2);l=n.circle(s.x,s.y,m,e)}return l&&(u.setAttribute("matter-id",l.id),r.add(o.engine.world,[l])),l},n.block=function(e,n,r,a,l){var l=l||{},u={label:"Block Body",position:{x:e,y:n},vertices:i.fromPath("L 0 0 L "+r+" 0 L "+r+" "+a+" L 0 "+a)};if(l.chamfer){var s=option.chamfer;u.vertices=i.chamfer(u.vertices,s.radius,s.quality,s.qualityMin,s.qualityMax),delete l.chamfer}return t.create(o.extend({},u,l))},n.circle=function(e,t,i,r,a){r=r||{};var l={label:"Circle Body",circleRadius:i};a=a||25;var u=Math.ceil(Math.max(10,Math.min(a,i)));return u%2==1&&(u+=1),n.polygon(e,t,u,i,o.extend({},l,r))},n.polygon=function(e,n,r,a,l){if(l=l||{},r<3)return Bodies.circle(e,n,a,l);for(var u=2*Math.PI/r,s="",d=.5*u,m=0;m<r;m+=1){var p=d+m*u,c=Math.cos(p)*a,f=Math.sin(p)*a;s+="L "+c.toFixed(3)+" "+f.toFixed(3)+" "}var g={label:"Polygon Body",position:{x:e,y:n},vertices:i.fromPath(s)};if(l.chamfer){var y=l.chamfer;g.vertices=i.chamfer(g.vertices,y.radius,y.quality,y.qualityMin,y.qualityMax),delete l.chamfer}return t.create(o.extend({},g,l))},n}},function(e,t,i){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o={};e.exports=function(e){var t,i,r=e.Common,a=e.Composite,l=e.Events,u=e.Render;return"undefined"!=typeof window&&(t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(function(){e(r.now())},1e3/60)},i=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),o.create=function(e){var t={engine:null,element:window,controller:o,frameRequestId:null,options:{}},i=e.engine,a=r.extend(t,e);a.mapping={},a.mapping.ratioMultiplier=1/6,a.mapping.VIEW={width:window.innerWidth,height:window.innerHeight},a.mapping.VIEW.center={x:a.mapping.VIEW.width/2,y:a.mapping.VIEW.height/2},a.mapping.WORLD={width:a.mapping.VIEW.width*a.mapping.ratioMultiplier,height:a.mapping.VIEW.height*a.mapping.ratioMultiplier},a.mapping.WORLD.center={x:a.mapping.WORLD.width/2,y:a.mapping.WORLD.height/2},a.mapping.viewToWorld=function(e){return"object"===(void 0===e?"undefined":n(e))&&null!==e?{x:a.mapping.ratioMultiplier*e.x,y:a.mapping.ratioMultiplier*e.y}:a.mapping.ratioMultiplier*e},a.mapping.worldToView=function(e){return"object"===(void 0===e?"undefined":n(e))&&null!==e?{x:e.x/a.mapping.ratioMultiplier,y:e.y/a.mapping.ratioMultiplier}:e/a.mapping.ratioMultiplier},document.querySelector("#debug").style.position="absolute";var l=u.create({element:document.querySelector("#debug"),engine:i,options:{width:a.mapping.WORLD.width,height:a.mapping.WORLD.height,background:"#fafafa",wireframeBackground:"#222",hasBounds:!1,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showBroadphase:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showShadows:!1}});return console.log(l),u.run(l),a.DebugRender=l,a},o.run=function(e){!function i(n){e.frameRequestId=t(i),o.world(e)}()},o.stop=function(e){i(e.frameRequestId)},o.world=function(e){var t=e.engine,i=t.world,n=(a.allBodies(i),a.allConstraints(i),document.querySelectorAll("[matter]")),r={timestamp:t.timing.timestamp};l.trigger(e,"beforeRender",r),o.bodies(e,n)},o.bodies=function(e,t,i){for(var n,o=e.engine,r=o.world,l=(e.options,a.allBodies(r)),u=0;u<t.length;u++){n=t[u];for(var s=null,d=0;d<l.length;d++)if(n.hasAttribute("matter-id")&&l[d].id==n.getAttribute("matter-id")){s=l[d];break}if(s){var m=e.mapping.worldToView({x:s.position.x,y:s.position.y}),p={x:n.offsetWidth/2,y:n.offsetHeight/2};n.style.position="absolute",n.style.transform="translate("+(m.x-p.x)+"px, "+(m.y-p.y)+"px)",n.style.transform+="rotate("+s.angle+"rad)"}}},o}},function(t,i){t.exports=e},function(e,t,i){"use strict";var n=i(2),o=i(1),r=i(0),a={name:"matter-dom-plugin",version:"0.0.1",for:"matter-js@^0.12.0",install:function(e){a.installRenderDom(e),a.installDomBodies(e)},installRenderDom:function(e){console.log("Installing RenderDom module."),e.RenderDom=o(e)},installDomBodies:function(e){console.log("Install DomBodies module."),e.DomBodies=r(e)}};n.Plugin.register(a),e.exports.MatterDomPlugin=a}])});